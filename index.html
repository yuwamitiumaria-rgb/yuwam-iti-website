<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YUWAM ITI UMARIA - Industrial Training Institute</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; }
        
        .navbar { background: linear-gradient(90deg, #1e40af, #1e3a8a); padding: 1rem 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .navbar-content { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
        .logo-section { display: flex; align-items: center; gap: 1rem; }
        .logo-section h1 { color: white; font-size: 1.8rem; font-weight: 800; }
        
        .nav-menu { display: flex; list-style: none; gap: 0; background: linear-gradient(90deg, #f59e0b, #d97706); }
        .nav-menu li { flex: 1; }
        .nav-menu a { display: block; padding: 0.8rem 1.2rem; color: white; text-decoration: none; font-weight: bold; font-size: 1rem; text-align: center; cursor: pointer; transition: all 0.3s; }
        .nav-menu a:hover { background: rgba(255,255,255,0.2); transform: scale(1.05); }
        .nav-menu a.active { background: rgba(0,0,0,0.2); }
        
        .hero { background: linear-gradient(135deg, #ec4899, #9333ea); color: white; padding: 3rem 2rem; text-align: center; }
        .hero h2 { font-size: 2.5rem; margin-bottom: 1rem; }
        .hero p { font-size: 1.2rem; margin-bottom: 2rem; }
        .btn { padding: 0.8rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem; font-weight: bold; transition: all 0.3s; }
        .btn-primary { background: #1e40af; color: white; }
        .btn-primary:hover { background: #1e3a8a; transform: scale(1.05); }
        .btn-warning { background: #f59e0b; color: white; }
        .btn-warning:hover { background: #d97706; transform: scale(1.05); }
        .btn-secondary { background: #6b7280; color: white; }
        .btn-success { background: #10b981; color: white; }
        .btn-danger { background: #ef4444; color: white; }
        
        .notice-box { background: #fef3c7; border: 3px solid #f59e0b; border-radius: 8px; padding: 1.5rem; margin: 2rem auto; max-width: 1000px; }
        .notice-box h3 { color: #f59e0b; margin-bottom: 1rem; }
        .notice-box p { color: #333; font-size: 1rem; line-height: 1.6; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .page-section { display: none; }
        .page-section.active { display: block; }
        
        .section-title { color: #1e40af; font-size: 2rem; text-align: center; margin-bottom: 2rem; }
        
        .card { background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 1.5rem; margin-bottom: 1.5rem; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: bold; color: #1e40af; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 0.8rem; border: 2px solid #ddd; border-radius: 4px; font-size: 1rem; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #1e40af; }
        
        table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
        table th { background: #1e40af; color: white; padding: 1rem; text-align: left; }
        table td { padding: 1rem; border-bottom: 1px solid #ddd; }
        table tr:hover { background: #f5f7fa; }
        
        .footer { background: #1e40af; color: white; text-align: center; padding: 2rem; margin-top: 3rem; }
        
        /* Print Styles */
        @media print {
            body * { visibility: hidden; }
            #receipt-print, #receipt-print * { visibility: visible; }
            #receipt-print { position: absolute; left: 0; top: 0; width: 100%; }
            .no-print { display: none !important; }
        }

        #receipt-print {
            display: none;
            padding: 20px;
            border: 2px solid #333;
            max-width: 500px;
            margin: 20px auto;
            background: white;
        }
    </style>
</head>
<body>
    <!-- NAVBAR -->
    <div class="navbar no-print">
        <div class="navbar-content">
            <div class="logo-section">
                <h1>üè¢ YUWAM ITI UMARIA</h1>
            </div>
        </div>
    </div>
    
    <!-- NAVIGATION MENU -->
    <ul class="nav-menu no-print">
        <li><a class="nav-btn active" data-page="home">Home</a></li>
        <li><a class="nav-btn" data-page="courses">Courses</a></li>
        <li><a class="nav-btn" data-page="fees">Fees</a></li>
        <li><a class="nav-btn" data-page="facilities">Facilities</a></li>
        <li><a class="nav-btn" data-page="admission">Admission</a></li>
        <li><a class="nav-btn" data-page="gallery">Gallery</a></li>
        <li><a class="nav-btn" data-page="contact">Contact</a></li>
        <li><a class="nav-btn" data-page="student-mgmt">üë§ Student Mgmt</a></li>
        <li><a class="nav-btn" data-page="mock-test">üìù Mock Test</a></li>
    </ul>
    
    <!-- HOME PAGE -->
    <section class="page-section active no-print" id="home">
        <div class="hero">
            <h2>Welcome to YUWAM Pvt ITI Umaria</h2>
            <p>Quality Industrial Training Institute for Skilled Development</p>
            <button class="btn btn-warning" onclick="showPage('courses')">Explore Courses</button>
        </div>
        
        <div class="container">
            <div class="notice-box">
                <h3>üì¢ NOTICE</h3>
                <p><strong>1.</strong> ‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡§∞‡§§‡•ç‡§§‡•Ä ‡§´‡•â‡§∞‡•ç‡§Æ schollarship ‡§´‡•â‡§∞‡•ç‡§Æ ‡§≠‡§∞‡§®‡§æ ‡§™‡•ç‡§∞‡§æ‡§∞‡§Æ‡•ç‡§≠ ‡§π‡•ã ‡§ö‡•Å‡§ï‡•á.... ‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§Ö‡§™‡§®‡•á ‡§∏‡§≠‡•Ä ‡§¶‡§æ‡§∏‡•ç‡§§‡§æ‡§Ç‡§µ‡•á‡§ú ‡§ï‡•Ä 2 ‡§™‡•ç‡§∞‡§§‡§ø ‡§´‡•ã‡§ü‡•ã ‡§ï‡•â‡§™‡•Ä ‡§≤‡•á‡§ï‡§∞ ‡§Ü‡§è ‡§î‡§± ‡§´‡•â‡§∞‡•ç‡§Æ ‡§≠‡§∞‡§µ‡§æ‡§Ç ‡§≤‡•á.....</p>
                <p style="margin-top: 1rem;"><strong>2.</strong> ‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡§º‡•ã ‡§∏‡•Ç‡§ö‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à ‡§ï‡•Ä ‡§Ü‡§™‡§ï‡•á ‡§∞‡•ã‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§ú‡§®‡§∞‡•á‡§ü ‡§π‡•ã‡§®‡•á ‡§§‡§•‡§æ ‡§Ü‡§™‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§µ‡•á‡§∞‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§® ‡§ï‡•Ä ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§™‡•ç‡§∞‡§æ‡§∞‡§Æ‡•ç‡§≠ ‡§π‡•à,‡§Ø‡§π ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§Ü‡§™‡§ï‡•á exam ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à.‡§∞‡•ã‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§®‡§æ ‡§Ü‡§®‡•á ‡§™‡§∞ ‡§Ü‡§™‡§ï‡§æ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§≠‡§∞ ‡§™‡§æ‡§è‡§ó</p>
            </div>
            
            <h2 class="section-title">About Us</h2>
            <div class="card">
                <p>YUWAM Pvt ITI Umaria is a leading industrial training institute located near RC School, Umaria, Madhya Pradesh. We are committed to providing quality education and practical training to develop skilled professionals in various technical trades.</p>
            </div>
        </div>
    </section>
    
    <!-- COURSES PAGE -->
    <section class="page-section no-print" id="courses">
        <div class="container">
            <h2 class="section-title">Our Courses</h2>
            <div class="grid">
                <div class="card">
                    <h3 style="color: #1e40af;">‚ö° Electrician</h3>
                    <p><strong>Duration:</strong> 2 Years</p>
                    <p><strong>Fee per Year:</strong> ‚Çπ16,500</p>
                </div>
                <div class="card">
                    <h3 style="color: #1e40af;">üîß Fitter</h3>
                    <p><strong>Duration:</strong> 2 Years</p>
                    <p><strong>Fee per Year:</strong> ‚Çπ15,000</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FEES PAGE -->
    <section class="page-section no-print" id="fees">
        <div class="container">
            <h2 class="section-title">Fee Structure</h2>
            <div class="card">
                <h3 style="color: #1e40af; margin-bottom: 1.5rem;">üí∞ ELECTRICIAN</h3>
                <table>
                    <tr><th>Item</th><th>Per Year</th><th>2 Years</th></tr>
                    <tr><td>Tuition Fees</td><td>‚Çπ10,000</td><td>‚Çπ20,000</td></tr>
                    <tr><td>Practical Fees</td><td>‚Çπ6,000</td><td>‚Çπ12,000</td></tr>
                    <tr><td>Exam Fees</td><td>‚Çπ500</td><td>‚Çπ1,000</td></tr>
                </table>
            </div>
        </div>
    </section>

    <!-- FACILITIES PAGE -->
    <section class="page-section no-print" id="facilities">
        <div class="container">
            <h2 class="section-title">Our Facilities</h2>
            <div class="grid">
                <div class="card" style="text-align: center;"><h3>üè≠ Workshop</h3></div>
                <div class="card" style="text-align: center;"><h3>üíª Computer Lab</h3></div>
                <div class="card" style="text-align: center;"><h3>üìö Library</h3></div>
            </div>
        </div>
    </section>

    <!-- ADMISSION PAGE -->
    <section class="page-section no-print" id="admission">
        <div class="container">
            <h2 class="section-title">Admission Form</h2>
            <div class="card" style="max-width: 600px; margin: 0 auto;">
                <form id="admissionForm">
                    <div class="form-group"><label>Full Name *</label><input type="text" required></div>
                    <div class="form-group"><label>Phone Number *</label><input type="tel" required></div>
                    <div class="form-group"><label>Select Trade *</label><select required><option value="electrician">Electrician</option><option value="fitter">Fitter</option></select></div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Application</button>
                </form>
            </div>
        </div>
    </section>

    <!-- GALLERY PAGE -->
    <section class="page-section no-print" id="gallery">
        <div class="container"><h2 class="section-title">Gallery</h2><div class="card" style="text-align: center; padding: 3rem;"><h3>Coming Soon...</h3></div></div>
    </section>

    <!-- CONTACT PAGE -->
    <section class="page-section no-print" id="contact">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <div class="grid">
                <div class="card"><h3>üìû Phone</h3><p>8319318007</p></div>
                <div class="card"><h3>üí¨ WhatsApp</h3><p>8871988777</p></div>
                <div class="card"><h3>üìß Email</h3><p>yuwamitiumaria@gmail.com</p></div>
            </div>
        </div>
    </section>
    
    <!-- STUDENT MANAGEMENT PAGE -->
    <section class="page-section no-print" id="student-mgmt">
        <div class="container">
            <h2 class="section-title">üë§ Student Management</h2>
            <div id="passwordPrompt" class="card" style="max-width: 400px; margin: 2rem auto; text-align: center;">
                <h3 style="color: #1e40af; margin-bottom: 1.5rem;">üîê Enter Password</h3>
                <div class="form-group"><input type="password" id="passwordInput" placeholder="Password"></div>
                <button class="btn btn-primary" onclick="checkPassword()" style="width: 100%;">üîì Unlock</button>
            </div>
            
            <div id="studentMgmtContent" style="display: none;">
                <div style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="showStudentPage('add-student')">‚ûï Add Student</button>
                    <button class="btn btn-primary" onclick="showStudentPage('record-payment')">üí≥ Record Payment</button>
                    <button class="btn btn-primary" onclick="showStudentPage('view-students')">üìã View Students</button>
                    <button class="btn btn-primary" onclick="showStudentPage('dashboard')">üìä Dashboard</button>
                </div>
                
                <div id="addStudentPage" style="display: none;">
                    <div class="card" style="max-width: 600px;">
                        <h3 style="color: #1e40af; margin-bottom: 1.5rem;">Add New Student</h3>
                        <div class="form-group"><label>Student Name *</label><input type="text" id="studentName"></div>
                        <div class="form-group"><label>Roll Number *</label><input type="text" id="rollNumber"></div>
                        <div class="form-group"><label>Phone *</label><input type="tel" id="studentPhone"></div>
                        <div class="form-group"><label>Trade *</label><select id="studentTrade"><option value="Electrician">Electrician</option><option value="Fitter">Fitter</option></select></div>
                        <div class="form-group"><label>Year *</label><select id="studentYear"><option value="1st Year">1st Year</option><option value="2nd Year">2nd Year</option></select></div>
                        <button class="btn btn-primary" onclick="addStudent()" style="width: 100%;">‚úì Add Student</button>
                    </div>
                </div>
                
                <div id="recordPaymentPage" style="display: none;">
                    <div class="card" style="max-width: 600px;">
                        <h3 style="color: #1e40af; margin-bottom: 1.5rem;">Record Payment</h3>
                        <div class="form-group">
                            <label>Select Student *</label>
                            <select id="paymentStudent" onchange="updatePaymentDetails()"><option value="">-- Select Student --</option></select>
                        </div>
                        <div id="paymentDetails" style="display:none;">
                            <div class="form-group"><label>Amount (‚Çπ)</label><input type="number" id="paymentAmount" value="500"></div>
                            <div class="form-group"><label>Payment For</label><input type="text" id="paymentFor" value="Exam Fees"></div>
                            <div class="form-group"><label>Payment Date</label><input type="date" id="paymentDate"></div>
                            <button class="btn btn-success" onclick="recordPayment()" style="width: 100%;">üí≥ Record & Print Receipt</button>
                        </div>
                    </div>
                </div>
                
                <div id="viewStudentsPage" style="display: none;">
                    <div class="card">
                        <h3 style="color: #1e40af; margin-bottom: 1.5rem;">All Students</h3>
                        <table id="studentsTable"></table>
                    </div>
                </div>
                
                <div id="dashboardPage" style="display: none;">
                    <div class="grid">
                        <div class="card" style="text-align: center;"><h3>Total Students</h3><p id="totalStudents">0</p></div>
                        <div class="card" style="text-align: center;"><h3>Total Collection</h3><p id="totalCollection">‚Çπ0</p></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MOCK TEST PAGE -->
    <section class="page-section no-print" id="mock-test">
        <div class="container"><h2 class="section-title">üìù Mock Test</h2><div class="card"><h3>Coming Soon...</h3></div></div>
    </section>

    <!-- RECEIPT PRINT AREA -->
    <div id="receipt-print">
        <div style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px;">
            <h2 style="margin: 0;">YUWAM Pvt ITI UMARIA</h2>
            <p style="margin: 5px 0;">Near RC School, Umaria (M.P.)</p>
            <p style="margin: 0; font-weight: bold;">FEES RECEIPT</p>
        </div>
        <div style="margin-bottom: 10px;">
            <p><strong>Receipt No:</strong> <span id="r-no"></span> <span style="float: right;"><strong>Date:</strong> <span id="r-date"></span></span></p>
            <p><strong>Student Name:</strong> <span id="r-name"></span></p>
            <p><strong>Roll Number:</strong> <span id="r-roll"></span></p>
            <p><strong>Trade/Year:</strong> <span id="r-trade"></span> / <span id="r-year"></span></p>
        </div>
        <table style="width: 100%; border: 1px solid #333; border-collapse: collapse;">
            <tr><th style="border: 1px solid #333; padding: 8px;">Description</th><th style="border: 1px solid #333; padding: 8px;">Amount</th></tr>
            <tr><td style="border: 1px solid #333; padding: 8px;" id="r-desc"></td><td style="border: 1px solid #333; padding: 8px; text-align: right;">‚Çπ<span id="r-amount"></span></td></tr>
            <tr><td style="border: 1px solid #333; padding: 8px; text-align: right; font-weight: bold;">Total Paid</td><td style="border: 1px solid #333; padding: 8px; text-align: right; font-weight: bold;">‚Çπ<span id="r-total"></span></td></tr>
        </table>
        <div style="margin-top: 30px; display: flex; justify-content: space-between;">
            <p>Student Signature</p>
            <p>Authorized Signatory</p>
        </div>
    </div>

    <footer class="footer no-print">
        <p>¬© 2025 YUWAM Pvt ITI Umaria. All rights reserved.</p>
    </footer>
    
    <script>
        // Global Data
        let students = JSON.parse(localStorage.getItem('students')) || [];
        let payments = JSON.parse(localStorage.getItem('payments')) || [];

        // Navigation
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                showPage(btn.getAttribute('data-page'));
            });
        });
        
        function showPage(pageName) {
            document.querySelectorAll('.page-section').forEach(page => page.classList.remove('active'));
            document.getElementById(pageName).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            const activeBtn = document.querySelector(`[data-page="${pageName}"]`);
            if(activeBtn) activeBtn.classList.add('active');
            
            if (pageName === 'student-mgmt') {
                const isUnlocked = sessionStorage.getItem('studentMgmtUnlocked');
                if (isUnlocked !== 'true') {
                    document.getElementById('passwordPrompt').style.display = 'block';
                    document.getElementById('studentMgmtContent').style.display = 'none';
                } else {
                    document.getElementById('passwordPrompt').style.display = 'none';
                    document.getElementById('studentMgmtContent').style.display = 'block';
                }
            }
            window.scrollTo(0, 0);
        }
        
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            if (password === 'Yuwam@007') {
                sessionStorage.setItem('studentMgmtUnlocked', 'true');
                document.getElementById('passwordPrompt').style.display = 'none';
                document.getElementById('studentMgmtContent').style.display = 'block';
                showStudentPage('add-student');
            } else {
                alert('Incorrect password!');
            }
        }
        
        function showStudentPage(page) {
            document.getElementById('addStudentPage').style.display = page === 'add-student' ? 'block' : 'none';
            document.getElementById('recordPaymentPage').style.display = page === 'record-payment' ? 'block' : 'none';
            document.getElementById('viewStudentsPage').style.display = page === 'view-students' ? 'block' : 'none';
            document.getElementById('dashboardPage').style.display = page === 'dashboard' ? 'block' : 'none';
            
            // Refresh data from localStorage every time we switch sub-pages
            students = JSON.parse(localStorage.getItem('students')) || [];
            payments = JSON.parse(localStorage.getItem('payments')) || [];

            if (page === 'record-payment') populateStudentDropdown();
            if (page === 'view-students') loadStudents();
            if (page === 'dashboard') loadDashboard();
        }
        
        function addStudent() {
            const name = document.getElementById('studentName').value;
            const roll = document.getElementById('rollNumber').value;
            if(!name || !roll) return alert('Name and Roll Number are required!');
            
            const student = {
                id: Date.now(),
                name: name,
                roll: roll,
                phone: document.getElementById('studentPhone').value,
                trade: document.getElementById('studentTrade').value,
                year: document.getElementById('studentYear').value
            };
            
            students.push(student);
            localStorage.setItem('students', JSON.stringify(students));
            alert('Student added successfully!');
            
            // Clear inputs
            document.getElementById('studentName').value = '';
            document.getElementById('rollNumber').value = '';
            document.getElementById('studentPhone').value = '';
        }

        function populateStudentDropdown() {
            const select = document.getElementById('paymentStudent');
            select.innerHTML = '<option value="">-- Select Student --</option>';
            
            // Re-read from localStorage to be absolutely sure
            const currentStudents = JSON.parse(localStorage.getItem('students')) || [];
            
            if (currentStudents.length === 0) {
                const opt = document.createElement('option');
                opt.textContent = "No students found. Please add one first.";
                opt.disabled = true;
                select.appendChild(opt);
            } else {
                currentStudents.forEach(s => {
                    const opt = document.createElement('option');
                    opt.value = s.id;
                    opt.textContent = `${s.name} (${s.roll})`;
                    select.appendChild(opt);
                });
            }
            document.getElementById('paymentDetails').style.display = 'none';
        }

        function updatePaymentDetails() {
            const studentId = document.getElementById('paymentStudent').value;
            document.getElementById('paymentDetails').style.display = studentId ? 'block' : 'none';
            document.getElementById('paymentDate').valueAsDate = new Date();
        }
        
        function recordPayment() {
            const studentId = document.getElementById('paymentStudent').value;
            const amount = document.getElementById('paymentAmount').value;
            const purpose = document.getElementById('paymentFor').value;
            const date = document.getElementById('paymentDate').value;
            
            if(!studentId || !amount) return alert('Please select student and amount!');
            
            const currentStudents = JSON.parse(localStorage.getItem('students')) || [];
            const student = currentStudents.find(s => s.id == studentId);
            
            const payment = {
                id: Date.now(),
                studentId: studentId,
                amount: parseFloat(amount),
                purpose: purpose,
                date: date
            };
            
            payments.push(payment);
            localStorage.setItem('payments', JSON.stringify(payments));
            
            // Prepare Receipt
            document.getElementById('r-no').textContent = payment.id;
            document.getElementById('r-date').textContent = date;
            document.getElementById('r-name').textContent = student.name;
            document.getElementById('r-roll').textContent = student.roll;
            document.getElementById('r-trade').textContent = student.trade;
            document.getElementById('r-year').textContent = student.year;
            document.getElementById('r-desc').textContent = purpose;
            document.getElementById('r-amount').textContent = amount;
            document.getElementById('r-total').textContent = amount;
            
            document.getElementById('receipt-print').style.display = 'block';
            window.print();
            document.getElementById('receipt-print').style.display = 'none';
            
            alert('Payment recorded successfully!');
            showStudentPage('dashboard');
        }
        
        function loadStudents() {
            const table = document.getElementById('studentsTable');
            const currentStudents = JSON.parse(localStorage.getItem('students')) || [];
            const currentPayments = JSON.parse(localStorage.getItem('payments')) || [];
            
            table.innerHTML = '<tr><th>Name</th><th>Roll No</th><th>Trade</th><th>Year</th><th>Total Paid</th><th>Action</th></tr>';
            
            currentStudents.forEach(s => {
                const studentPayments = currentPayments.filter(p => p.studentId == s.id);
                const totalPaid = studentPayments.reduce((sum, p) => sum + p.amount, 0);
                const row = table.insertRow();
                row.innerHTML = `<td>${s.name}</td><td>${s.roll}</td><td>${s.trade}</td><td>${s.year}</td><td>‚Çπ${totalPaid}</td><td><button class="btn btn-danger" onclick="deleteStudent(${s.id})">Delete</button></td>`;
            });
        }
        
        function deleteStudent(id) {
            if(confirm('Are you sure you want to delete this student?')) {
                let currentStudents = JSON.parse(localStorage.getItem('students')) || [];
                let currentPayments = JSON.parse(localStorage.getItem('payments')) || [];
                
                currentStudents = currentStudents.filter(s => s.id !== id);
                currentPayments = currentPayments.filter(p => p.studentId != id);
                
                localStorage.setItem('students', JSON.stringify(currentStudents));
                localStorage.setItem('payments', JSON.stringify(currentPayments));
                
                loadStudents();
            }
        }
        
        function loadDashboard() {
            const currentStudents = JSON.parse(localStorage.getItem('students')) || [];
            const currentPayments = JSON.parse(localStorage.getItem('payments')) || [];
            
            document.getElementById('totalStudents').textContent = currentStudents.length;
            const totalCollection = currentPayments.reduce((sum, p) => sum + p.amount, 0);
            document.getElementById('totalCollection').textContent = '‚Çπ' + totalCollection;
        }
    </script>
</body>
</html>
