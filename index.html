<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YUWAM ITI UMARIA - Industrial Training Institute</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f7fa; }
        .page-section { display: none; }
        .page-section.active { display: block; }
        .navbar { background: linear-gradient(135deg, #1e40af, #1e3a8a); color: white; padding: 1rem 0; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .navbar .container { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 20px; flex-wrap: wrap; }
        .logo { display: flex; align-items: center; gap: 1rem; }
        .logo h1 { font-size: 1.5rem; }
        .nav-links { display: flex; list-style: none; gap: 0.5rem; flex-wrap: wrap; }
        .nav-links a { color: #FFD700; font-weight: 700; font-size: 0.95rem; text-decoration: none; padding: 0.5rem 0.8rem; border-radius: 4px; transition: all 0.3s; }
        .nav-links a:hover { background: rgba(255,215,0,0.2); color: #FFFF00; }
        .nav-links a.active { background: rgba(255,215,0,0.3); color: #FFFF00; border-bottom: 3px solid #FFD700; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .hero { background: linear-gradient(135deg, #ec4899, #9333ea); color: white; padding: 4rem 2rem; text-align: center; border-radius: 8px; margin-bottom: 2rem; }
        .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        .hero p { font-size: 1.2rem; margin-bottom: 2rem; }
        .cta-btn { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 0.75rem 2rem; border: none; border-radius: 6px; font-size: 1rem; font-weight: 600; cursor: pointer; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #1e40af; font-weight: 600; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; }
        .form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 6px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .btn-primary { background: linear-gradient(135deg, #1e40af, #1e3a8a); color: white; }
        .btn-success { background: linear-gradient(135deg, #16a34a, #15803d); color: white; }
        .btn-danger { background: linear-gradient(135deg, #dc2626, #b91c1c); color: white; }
        .btn-print { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; }
        .table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .table th { background: linear-gradient(135deg, #1e40af, #1e3a8a); color: white; padding: 1rem; text-align: left; }
        .table td { padding: 1rem; border-bottom: 1px solid #eee; }
        .table tr:hover { background: #f9fafb; }
        .status-paid { color: #16a34a; font-weight: 600; }
        .status-unpaid { color: #dc2626; font-weight: 600; }
        .card { background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem; }
        .receipt { background: white; padding: 2rem; border-radius: 8px; border: 2px solid #1e40af; margin-top: 2rem; }
        .receipt-header { text-align: center; border-bottom: 2px solid #1e40af; padding-bottom: 1rem; margin-bottom: 1rem; }
        .receipt-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #eee; }
        .receipt-row.total { border-top: 2px solid #1e40af; border-bottom: 2px solid #1e40af; font-weight: 700; font-size: 1.2rem; color: #1e40af; }
        .alert { padding: 1rem; border-radius: 6px; margin-bottom: 1rem; }
        .alert-success { background: #dcfce7; color: #166534; border: 1px solid #86efac; }
        .alert-error { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
        .stat-card { background: white; padding: 1.5rem; border-radius: 8px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .stat-card h3 { color: #666; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .stat-card .number { font-size: 2rem; color: #1e40af; font-weight: 700; }
        .course-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .course-card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .course-header { padding: 1.5rem; color: white; }
        .course-header.electrician { background: linear-gradient(135deg, #3b82f6, #1e40af); }
        .course-header.fitter { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .course-body { padding: 1.5rem; }
        .course-body h4 { color: #1e40af; margin-top: 1rem; margin-bottom: 0.5rem; }
        .course-body ul { margin-left: 1.5rem; }
        .staff-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 1.5rem; }
        .staff-card { background: white; padding: 1.5rem; border-radius: 8px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .staff-photo { width: 100%; height: 150px; object-fit: cover; border-radius: 6px; margin-bottom: 1rem; }
        .staff-card h4 { color: #1e40af; margin-bottom: 0.5rem; }
        .footer { background: #1e40af; color: white; text-align: center; padding: 2rem; margin-top: 3rem; }
        @media print { .navbar, .nav-links, .btn, .form-group { display: none !important; } }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <h1>YUWAM ITI UMARIA</h1>
        </div>
        <ul class="nav-links">
            <li><a href="#" class="nav-btn active" data-page="home">Home</a></li>
            <li><a href="#" class="nav-btn" data-page="courses">Courses</a></li>
            <li><a href="#" class="nav-btn" data-page="fees">Fees</a></li>
            <li><a href="#" class="nav-btn" data-page="facilities">Facilities</a></li>
            <li><a href="#" class="nav-btn" data-page="admission">Admission</a></li>
            <li><a href="#" class="nav-btn" data-page="gallery">Gallery</a></li>
            <li><a href="#" class="nav-btn" data-page="contact">Contact</a></li>
            <li style="border-left: 2px solid #FFD700; padding-left: 0.8rem;"><a href="#" class="nav-btn" data-page="student-mgmt">üë§ Student Mgmt</a></li>
        </ul>
    </nav>

    <!-- HOME PAGE -->
    <section class="page-section active" id="home">
        <div class="container">
            <div class="hero">
                <h1>Welcome to YUWAM Pvt ITI Umaria</h1>
                <p>Quality Industrial Training Institute for Skilled Development</p>
                <button class="cta-btn" onclick="showPage('courses')">Explore Courses</button>
            </div>

            <div class="card">
                <h2 style="color: #1e40af; margin-bottom: 1rem;">About Us</h2>
                <p>YUWAM Pvt ITI Umaria is a leading industrial training institute located near RC School, Umaria, Madhya Pradesh. We are committed to providing quality education and practical training to develop skilled professionals in various technical trades.</p>
            </div>

            <div class="card">
                <h3 style="color: #1e40af; margin-bottom: 1rem;">Our Leadership Team</h3>
                <div class="staff-grid">
                    <div class="staff-card">
                        <img alt="Director" class="staff-photo" src="director.jpg">
                        <h4>Director</h4>
                        <p>ANKUR TIWARI</p>
                        <p style="font-size: 0.85rem; color: #666;"><strong>B.E (EC), PGDCA</strong></p>
                    </div>
                    <div class="staff-card">
                        <h4>Principal</h4>
                        <p>ADITYA TIWARI</p>
                    </div>
                    <div class="staff-card">
                        <h4>Electrician T.O</h4>
                        <p>AVINASH KABEERPANTHI</p>
                    </div>
                    <div class="staff-card">
                        <h4>Fitter T.O</h4>
                        <p>RAJESH SAHU</p>
                    </div>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <h3>2 Professional Trades</h3>
                    <p>Electrician & Fitter</p>
                </div>
                <div class="stat-card">
                    <h3>2 Year Duration</h3>
                    <p>Comprehensive Training</p>
                </div>
                <div class="stat-card">
                    <h3>Free Digital Classes</h3>
                    <p>Computer & Digital Training</p>
                </div>
                <div class="stat-card">
                    <h3>Daily Practical Training</h3>
                    <p>Hands-on Experience</p>
                </div>
            </div>
        </div>
    </section>

    <!-- COURSES PAGE -->
    <section class="page-section" id="courses">
        <div class="container">
            <h2 style="color: #1e40af; text-align: center; margin-bottom: 2rem;">Our Courses</h2>
            <div class="course-grid">
                <div class="course-card">
                    <div class="course-header electrician">
                        <h3>Electrician</h3>
                    </div>
                    <div class="course-body">
                        <h4>Course Duration</h4>
                        <p>2 Years</p>
                        <h4>Eligibility</h4>
                        <p>10th Pass</p>
                        <h4>Skills Covered</h4>
                        <ul>
                            <li>Electrical Wiring</li>
                            <li>Circuit Installation</li>
                            <li>Maintenance & Repair</li>
                            <li>Safety Standards</li>
                        </ul>
                    </div>
                </div>
                <div class="course-card">
                    <div class="course-header fitter">
                        <h3>Fitter</h3>
                    </div>
                    <div class="course-body">
                        <h4>Course Duration</h4>
                        <p>2 Years</p>
                        <h4>Eligibility</h4>
                        <p>10th Pass</p>
                        <h4>Skills Covered</h4>
                        <ul>
                            <li>Machine Operation</li>
                            <li>Tool Handling</li>
                            <li>Assembly & Fitting</li>
                            <li>Quality Control</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FEES PAGE -->
    <section class="page-section" id="fees">
        <div class="container">
            <h2 style="color: #1e40af; text-align: center; margin-bottom: 2rem;">Fee Structure</h2>
            <div class="card" style="overflow-x: auto;">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Course</th>
                            <th>Duration</th>
                            <th>Total Fee</th>
                            <th>Per Year</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Electrician</td>
                            <td>2 Years</td>
                            <td>‚Çπ33,000</td>
                            <td>‚Çπ16,500</td>
                        </tr>
                        <tr style="background: #f5f5f5;">
                            <td>Fitter</td>
                            <td>2 Years</td>
                            <td>‚Çπ30,000</td>
                            <td>‚Çπ15,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h3 style="color: #1e40af; margin-bottom: 1rem;">Fee Breakdown (Per Year)</h3>
                <div style="display: grid; gap: 1rem;">
                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #ddd;">
                        <span>Tuition Fee</span>
                        <span><strong>‚Çπ15,000</strong></span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #ddd;">
                        <span>Exam Fee</span>
                        <span><strong>‚Çπ500</strong></span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                        <span>Library Charge <em style="font-size: 0.8rem; color: #666;">(Optional)</em></span>
                        <span><strong>‚Çπ1,000</strong></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FACILITIES PAGE -->
    <section class="page-section" id="facilities">
        <div class="container">
            <h2 style="color: #1e40af; text-align: center; margin-bottom: 2rem;">Our Facilities</h2>
            <div class="stats">
                <div class="stat-card">
                    <h3>Modern Workshop</h3>
                    <p>Latest machinery and tools</p>
                </div>
                <div class="stat-card">
                    <h3>Computer Lab</h3>
                    <p>Digital training & CAD software</p>
                </div>
                <div class="stat-card">
                    <h3>Library</h3>
                    <p>Technical books & resources</p>
                </div>
                <div class="stat-card">
                    <h3>Classroom</h3>
                    <p>Modern teaching aids</p>
                </div>
                <div class="stat-card">
                    <h3>Canteen</h3>
                    <p>Hygienic food services</p>
                </div>
                <div class="stat-card">
                    <h3>Sports Ground</h3>
                    <p>Recreational activities</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ADMISSION PAGE -->
    <section class="page-section" id="admission">
        <div class="container">
            <h2 style="color: #1e40af; text-align: center; margin-bottom: 2rem;">Admission Form</h2>
            <div class="card" style="max-width: 600px; margin: 0 auto;">
                <form id="admissionForm">
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" required placeholder="Enter full name">
                    </div>
                    <div class="form-group">
                        <label>Email Address *</label>
                        <input type="email" required placeholder="Enter email">
                    </div>
                    <div class="form-group">
                        <label>Phone Number *</label>
                        <input type="tel" required placeholder="Enter phone number">
                    </div>
                    <div class="form-group">
                        <label>Date of Birth *</label>
                        <input type="date" required>
                    </div>
                    <div class="form-group">
                        <label>Select Course *</label>
                        <select required>
                            <option value="">-- Select Course --</option>
                            <option value="Electrician">Electrician</option>
                            <option value="Fitter">Fitter</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Address *</label>
                        <textarea required rows="4" placeholder="Enter your address"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success" style="width: 100%;">‚úì Submit Application</button>
                </form>
            </div>
        </div>
    </section>

    <!-- GALLERY PAGE -->
    <section class="page-section" id="gallery">
        <div class="container">
            <h2 style="color: #1e40af; text-align: center; margin-bottom: 2rem;">Gallery</h2>
            <div class="card" style="text-align: center;">
                <p style="font-size: 1.3rem; color: #1e40af; margin-bottom: 1rem;">Gallery Coming Soon!</p>
                <p style="color: #666;">Photos and videos of our institute will be updated soon.</p>
            </div>
        </div>
    </section>

    <!-- CONTACT PAGE -->
    <section class="page-section" id="contact">
        <div class="container">
            <h2 style="color: #1e40af; text-align: center; margin-bottom: 2rem;">Contact Us</h2>
            <div class="stats">
                <div class="stat-card">
                    <h3>üìç Location</h3>
                    <p>Near RC School, Peelikothi Road, Umaria</p>
                </div>
                <div class="stat-card">
                    <h3>üìû Phone</h3>
                    <p><a href="tel:+918319318007" style="color: #1e40af; text-decoration: none;">+91 8319318007</a></p>
                    <p style="font-size: 0.9rem;">WhatsApp: <a href="https://wa.me/918871988777" style="color: #1e40af; text-decoration: none;">+91 8871988777</a></p>
                </div>
                <div class="stat-card">
                    <h3>üìß Email</h3>
                    <p><a href="mailto:yuwamitiumaria@gmail.com" style="color: #1e40af; text-decoration: none;">yuwamitiumaria@gmail.com</a></p>
                </div>
                <div class="stat-card">
                    <h3>üïê Hours</h3>
                    <p>Monday - Friday: 9:00 AM - 5:00 PM</p>
                    <p>Saturday: 9:00 AM - 2:00 PM</p>
                </div>
            </div>
        </div>
    </section>

    <!-- STUDENT MANAGEMENT PAGE -->
    <section class="page-section" id="student-mgmt">
        <div class="container">
            <h2 style="color: #1e40af; margin-bottom: 2rem;">üë§ Student Fees Management</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                <button class="btn btn-primary" onclick="showStudentPage('add-student')" style="width: 100%;">‚ûï Add Student</button>
                <button class="btn btn-primary" onclick="showStudentPage('fees-payment')" style="width: 100%;">üí≥ Record Payment</button>
                <button class="btn btn-primary" onclick="showStudentPage('students-list')" style="width: 100%;">üìã View Students</button>
                <button class="btn btn-primary" onclick="showStudentPage('dashboard')" style="width: 100%;">üìä Dashboard</button>
            </div>

            <!-- Add Student -->
            <div id="add-student" class="student-page" style="display: none;">
                <div class="card">
                    <h3 style="color: #1e40af; margin-bottom: 1rem;">‚ûï Add New Student</h3>
                    <form id="addStudentForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Student Name *</label>
                                <input type="text" id="studentName" required placeholder="Enter full name">
                            </div>
                            <div class="form-group">
                                <label>Roll Number *</label>
                                <input type="text" id="rollNumber" required placeholder="e.g., 001">
                            </div>
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="phone" placeholder="Enter phone number">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Trade *</label>
                                <select id="trade" required>
                                    <option value="">-- Select Trade --</option>
                                    <option value="Electrician">Electrician</option>
                                    <option value="Fitter">Fitter</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Year *</label>
                                <select id="year" required>
                                    <option value="">-- Select Year --</option>
                                    <option value="1st Year">1st Year</option>
                                    <option value="2nd Year">2nd Year</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-success" style="width: 100%;">‚úì Add Student</button>
                    </form>
                </div>
            </div>

            <!-- Fees Payment -->
            <div id="fees-payment" class="student-page" style="display: none;">
                <div class="card">
                    <h3 style="color: #1e40af; margin-bottom: 1rem;">üí≥ Record Exam Fees Payment</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Select Student *</label>
                            <select id="selectStudent" required>
                                <option value="">-- Select Student --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Exam Fees Amount</label>
                            <input type="number" id="examFees" value="500" readonly style="background: #f0f0f0;">
                        </div>
                        <div class="form-group">
                            <label>Payment Date</label>
                            <input type="date" id="paymentDate">
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="recordPayment()" style="width: 100%;">‚úì Mark as Paid</button>
                    <div id="paymentAlert"></div>

                    <div id="receiptSection" style="display: none; margin-top: 2rem;">
                        <div class="receipt" id="receiptContent">
                            <div class="receipt-header">
                                <h2>YUWAM ITI UMARIA</h2>
                                <p>Exam Fees Payment Receipt</p>
                            </div>
                            <div id="receiptDetails"></div>
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button class="btn btn-print" onclick="window.print()">üñ®Ô∏è Print Receipt</button>
                            <button class="btn btn-primary" onclick="resetPaymentForm()">‚ûï Another Payment</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Students List -->
            <div id="students-list" class="student-page" style="display: none;">
                <div class="card">
                    <h3 style="color: #1e40af; margin-bottom: 1rem;">üìã All Students</h3>
                    <div class="form-group" style="margin-bottom: 1rem;">
                        <input type="text" id="searchStudent" placeholder="üîç Search by name or roll number..." style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px;">
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="table" id="studentsTable">
                            <thead>
                                <tr>
                                    <th>Roll No</th>
                                    <th>Name</th>
                                    <th>Trade</th>
                                    <th>Year</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTableBody">
                                <tr><td colspan="6" style="text-align: center; color: #999;">No students added yet</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Dashboard -->
            <div id="dashboard" class="student-page" style="display: none;">
                <div class="stats">
                    <div class="stat-card">
                        <h3>Total Students</h3>
                        <div class="number" id="totalStudents">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Fees Paid</h3>
                        <div class="number" id="feesPaid">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Fees Pending</h3>
                        <div class="number" id="feesPending">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Collection</h3>
                        <div class="number" id="totalCollection">‚Çπ0</div>
                    </div>
                </div>
                <div class="card" style="overflow-x: auto;">
                    <h3 style="color: #1e40af; margin-bottom: 1rem;">Payment History</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Student Name</th>
                                <th>Roll No</th>
                                <th>Trade</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody id="paymentHistoryBody">
                            <tr><td colspan="5" style="text-align: center; color: #999;">No payments recorded yet</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <p>¬© 2025 YUWAM Pvt ITI Umaria. All rights reserved.</p>
        <p>Providing Quality Technical Education Since 2013</p>
    </footer>

    <script>
        let students = JSON.parse(localStorage.getItem('students')) || [];
        let payments = JSON.parse(localStorage.getItem('payments')) || [];

        function showPage(pageName) {
            document.querySelectorAll('.page-section').forEach(page => page.classList.remove('active'));
            document.getElementById(pageName).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-page="${pageName}"]`).classList.add('active');
            window.scrollTo(0, 0);
        }

        function showStudentPage(pageName) {
            document.querySelectorAll('.student-page').forEach(page => page.style.display = 'none');
            document.getElementById(pageName).style.display = 'block';
            if (pageName === 'students-list') loadStudentsList();
            if (pageName === 'fees-payment') loadStudentDropdown();
            if (pageName === 'dashboard') loadDashboard();
        }

        document.getElementById('addStudentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const student = {
                id: Date.now(),
                name: document.getElementById('studentName').value,
                rollNumber: document.getElementById('rollNumber').value,
                phone: document.getElementById('phone').value,
                trade: document.getElementById('trade').value,
                year: document.getElementById('year').value,
                feePaid: false
            };
            students.push(student);
            localStorage.setItem('students', JSON.stringify(students));
            alert('‚úì Student added successfully!');
            this.reset();
            showStudentPage('students-list');
        });

        function loadStudentsList() {
            const tbody = document.getElementById('studentsTableBody');
            const searchTerm = document.getElementById('searchStudent').value.toLowerCase();
            const filtered = students.filter(s => s.name.toLowerCase().includes(searchTerm) || s.rollNumber.toLowerCase().includes(searchTerm));
            tbody.innerHTML = filtered.length === 0 ? '<tr><td colspan="6" style="text-align: center; color: #999;">No students found</td></tr>' : filtered.map(s => `
                <tr>
                    <td>${s.rollNumber}</td>
                    <td>${s.name}</td>
                    <td>${s.trade}</td>
                    <td>${s.year}</td>
                    <td><span class="${s.feePaid ? 'status-paid' : 'status-unpaid'}">${s.feePaid ? '‚úì Paid' : '‚úó Unpaid'}</span></td>
                    <td><button class="btn btn-danger" onclick="deleteStudent(${s.id})" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Delete</button></td>
                </tr>
            `).join('');
        }

        function loadStudentDropdown() {
            const select = document.getElementById('selectStudent');
            select.innerHTML = '<option value="">-- Select Student --</option>';
            students.forEach(s => {
                const status = s.feePaid ? ' (‚úì Paid)' : ' (‚úó Unpaid)';
                select.innerHTML += `<option value="${s.id}">${s.name} - ${s.rollNumber}${status}</option>`;
            });
        }

        function recordPayment() {
            const studentId = parseInt(document.getElementById('selectStudent').value);
            const paymentDate = document.getElementById('paymentDate').value || new Date().toISOString().split('T')[0];
            if (!studentId) {
                document.getElementById('paymentAlert').innerHTML = '<div class="alert alert-error">Please select a student</div>';
                return;
            }
            const student = students.find(s => s.id === studentId);
            if (!student) return;
            student.feePaid = true;
            payments.push({ date: paymentDate, studentId, studentName: student.name, rollNumber: student.rollNumber, trade: student.trade, amount: 500 });
            localStorage.setItem('students', JSON.stringify(students));
            localStorage.setItem('payments', JSON.stringify(payments));
            document.getElementById('receiptDetails').innerHTML = `
                <div class="receipt-row"><span>Student Name:</span><strong>${student.name}</strong></div>
                <div class="receipt-row"><span>Roll Number:</span><strong>${student.rollNumber}</strong></div>
                <div class="receipt-row"><span>Trade:</span><strong>${student.trade}</strong></div>
                <div class="receipt-row"><span>Year:</span><strong>${student.year}</strong></div>
                <div class="receipt-row"><span>Payment Date:</span><strong>${paymentDate}</strong></div>
                <div class="receipt-row total"><span>Exam Fees Paid:</span><strong>‚Çπ500</strong></div>
            `;
            document.getElementById('receiptSection').style.display = 'block';
            document.getElementById('paymentAlert').innerHTML = '<div class="alert alert-success">‚úì Payment recorded successfully!</div>';
        }

        function resetPaymentForm() {
            document.getElementById('selectStudent').value = '';
            document.getElementById('paymentDate').value = '';
            document.getElementById('paymentAlert').innerHTML = '';
            document.getElementById('receiptSection').style.display = 'none';
        }

        function deleteStudent(id) {
            if (confirm('Delete this student?')) {
                students = students.filter(s => s.id !== id);
                localStorage.setItem('students', JSON.stringify(students));
                loadStudentsList();
            }
        }

        function loadDashboard() {
            const totalStudents = students.length;
            const feesPaid = students.filter(s => s.feePaid).length;
            document.getElementById('totalStudents').textContent = totalStudents;
            document.getElementById('feesPaid').textContent = feesPaid;
            document.getElementById('feesPending').textContent = totalStudents - feesPaid;
            document.getElementById('totalCollection').textContent = '‚Çπ' + (feesPaid * 500).toLocaleString();
            const historyBody = document.getElementById('paymentHistoryBody');
            historyBody.innerHTML = payments.length === 0 ? '<tr><td colspan="5" style="text-align: center; color: #999;">No payments recorded yet</td></tr>' : payments.map(p => `
                <tr>
                    <td>${p.date}</td>
                    <td>${p.studentName}</td>
                    <td>${p.rollNumber}</td>
                    <td>${p.trade}</td>
                    <td>‚Çπ${p.amount}</td>
                </tr>
            `).join('');
        }

        document.getElementById('searchStudent')?.addEventListener('keyup', loadStudentsList);
        document.getElementById('admissionForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Thank you for your application! We will contact you soon.');
            this.reset();
        });

        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                showPage(btn.getAttribute('data-page'));
            });
        });

        const today = new Date().toISOString().split('T')[0];
        if (document.getElementById('paymentDate')) document.getElementById('paymentDate').value = today;
    </script>
</body>
</html>
